import{Q as c,a as f,b as n}from"./QForm-CY2MM6xb.js";import{r as d,a as g,c as b,o as v,b as r,d as o,w as u,e as w,u as _,Q as y,f as V}from"./index-C2YEbjQW.js";import{api as h}from"./axios-nvtPIfmM.js";const x={class:"q-pa-md"},k={class:"flex justify-center"},Q={class:"flex justify-end"},C={__name:"LoginPage",setup(N){const p=_(),l=d(!1),t=d(!1),s=g({email:"prueba@phenlinea.com",password:"123456"});async function m(){l.value=!0,t.value=!1;try{let a=(await h.post("/porteria-login",{...s})).data;localStorage.setItem("apiToken",a.user.api_token),p.push("/visitas")}catch(a){console.log(a),a.response&&a.response.status==422&&(t.value=!0)}l.value=!1}return(a,e)=>(v(),b("div",x,[r("div",k,[o(c,{src:"https://phenlinea.com/img/logo.png",width:"100px",class:"q-mb-md"})]),e[3]||(e[3]=r("div",{class:"q-py-xs"},[r("h1",{class:"page-title"},"Control de Visitas")],-1)),o(f,{onSubmit:w(m,["prevent"]),class:"q-gutter-y-md"},{default:u(()=>[o(n,{outlined:"","stack-label":"",label:"Email","hide-bottom-space":"",type:"email",modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=i=>s.email=i),error:t.value.email,"error-message":"Nombre de usuario o contrasena incorrectos"},null,8,["modelValue","error"]),o(n,{outlined:"","stack-label":"",label:"Contrasena","hide-bottom-space":"",type:"password",modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.password=i),error:t.value.password,"error-message":"Nombre de usuario o contrasena incorrectos"},null,8,["modelValue","error"]),r("div",Q,[o(y,{type:"submit",color:"primary",class:"full-width",loading:l.value},{default:u(()=>e[2]||(e[2]=[V("Ingresar")])),_:1,__:[2]},8,["loading"])])]),_:1})]))}};export{C as default};
